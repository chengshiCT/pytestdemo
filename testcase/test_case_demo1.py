import requests

URL_BAIDU = "https://ug.baidu.com/mcp/pc/pcsearch"


def test_baidu_query_case_1():
    """
    正常通过的用例
    """
    # 组装请求头
    headers = {
        "Content-Type": "application/json",
        "Cookie": 'BIDUPSID=CA8645F3640A205352CFF57FA8771E61; PSTM=1659852960; BDUSS=M1cnh2M2l5M2gwRmJ2ekxYc3Z4MklZNmVTUTJYWVVndjlGWnRmejRCeVBleWxrSVFBQUFBJCQAAAAAAQAAAAEAAAAq1nNpY2hlbmd0Y2gwNDIwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI~uAWSP7gFkUm; BDUSS_BFESS=M1cnh2M2l5M2gwRmJ2ekxYc3Z4MklZNmVTUTJYWVVndjlGWnRmejRCeVBleWxrSVFBQUFBJCQAAAAAAQAAAAEAAAAq1nNpY2hlbmd0Y2gwNDIwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI~uAWSP7gFkUm; BAIDUID=C261EDC38839DDD4AD60E2E91E0FAD4F:FG=1; MCITY=-158%3A; BAIDUID_BFESS=C261EDC38839DDD4AD60E2E91E0FAD4F:FG=1; ZFY=ADGO3y7PcvNUH:Bc:BNfrfEv:BzTpoMoXxjE3WxpFJOXsA:C; __bid_n=187d5d75e3f9296671b28d; BDRCVFR[feWj1Vr5u3D]=I67x6TjHwwYf0; delPer=0; PSINO=7; H_PS_PSSID=39939_39999_40012_39920_40039_39824; BA_HECTOR=84al2g8120818halak000l2lr5vlft1ioth8d1s; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BCLID=7796608928541331967; BCLID_BFESS=7796608928541331967; BDSFRCVID=2hFOJeC6265ZiqJqZYdbbo-YZU4hm05TH6ao5jC6Ir3ck2IPVZPhEG0Pdf8g0KuhOVAbogKKLmOTHpKF_2uxOjjg8UtVJeC6EG0Ptf8g0x5; BDSFRCVID_BFESS=2hFOJeC6265ZiqJqZYdbbo-YZU4hm05TH6ao5jC6Ir3ck2IPVZPhEG0Pdf8g0KuhOVAbogKKLmOTHpKF_2uxOjjg8UtVJeC6EG0Ptf8g0x5; H_BDCLCKID_SF=JR48oIPXfIL3q-TnM-QKhDCOhhrEa-QBHD7XVKoS3q7keq8CD6DhW4FLylQzX43aKD8LhxcGJnnVhK52y5jHhTLqLNjAbjJ22brAbUQuLnnpsIJMb-DWbT8U5f79LfoaaKviahREBMb1qhvDBT5h2M4qMxtOLR3pWDTm_q5TtUJMeCnTDbAhe4tX-NFJJTKH3j; H_BDCLCKID_SF_BFESS=JR48oIPXfIL3q-TnM-QKhDCOhhrEa-QBHD7XVKoS3q7keq8CD6DhW4FLylQzX43aKD8LhxcGJnnVhK52y5jHhTLqLNjAbjJ22brAbUQuLnnpsIJMb-DWbT8U5f79LfoaaKviahREBMb1qhvDBT5h2M4qMxtOLR3pWDTm_q5TtUJMeCnTDbAhe4tX-NFJJTKH3j; ab_sr=1.0.1_YTRmOTIyYmFkNWZmMTE0YjI5NzE1ODU4MGYxMDNkNDQ2ZTE3ZWZmY2ZiNGI0ZTAwMjRiMzFmYTlkOTYyZjllYTA2MWMxODk3OTZmZDE3ODBmMmU1ODUxODkyM2M0ZGQ3NWJiMzc5OGYyMTYwOWJkNzQ4MWRmMmNjZTFiY2E5Mzk4NTMwMjlhY2M1MTZhYTk2MmJkYzBlZGVmNGZiNzYyZmU3NzIyYjM1OGFhODY0N2ZmYjBiZTIyNjQwODVkMWEy; RT="z=1&dm=baidu.com&si=445a38b7-06fa-49d9-80a2-3166f618c1cf&ss=lqryg5cb&sl=r&tt=bre&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=14as0&ul=14nyo&hd=14o0g"'
    }

    # 请求入参
    data = {"invoke_info": {"pos_1": [{}], "pos_2": [{}], "pos_3": [{}]}}

    # 请求执行
    resp = requests.request("POST", url=URL_BAIDU, headers=headers, json=data)
    # 打印请求结果到控制台
    print("\n", resp.text)

    # 结果断言
    # http状态码断言
    assert resp.status_code == 200
    # 业务信息断言
    assert resp.json()["errno"] == 0
    assert resp.json()["errmsg"] == "ok"
